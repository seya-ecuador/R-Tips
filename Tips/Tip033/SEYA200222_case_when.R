
############################################################################
############################################################################
###                                                                      ###
###                  SOLUCIONES ECONÓMICAS Y ANALÍTICAS                  ###
###                              @SEYA_Ecu                               ###
###         ELABORACIÓN: @dhecheverria | @byfcl3 | @jeaguilarc_98        ###
###                            TIPS & TRICKS R                           ###
###                                                                      ###
############################################################################
############################################################################


# Librerías ---------------------------------------------------------------

library(tidyverse)

# Datos -------------------------------------------------------------------

pobreza_ingresos <- tribble(
  ~ provin_dpa, ~ provin_name, ~ provin_pobreza2018,
  "01", "Azuay", 0.134341607151026,
  "02", "Bolívar", 0.31205099735399,
  "03", "Cañar", 0.242387788691868,
  "04", "Carchi", 0.219991532608874,
  "05", "Cotopaxi", 0.241590964863098,
  "06", "Chimborazo", 0.243693608089922,
  "07", "El Oro", 0.241041659045365,
  "08", "Esmeraldas", 0.576157758958018,
  "09", "Guayas", 0.378544874212106,
  "10", "Imbabura", 0.253044975287931,
  "11", "Loja", 0.322813516272883,
  "12", "Los Rios", 0.505204467409413,
  "13", "Manabí", 0.45787450892618,
  "14", "Morona Santiago", 0.687403060995062,
  "15", "Napo", 0.438070363044874,
  "16", "Pastaza", 0.602540389675625,
  "17", "Pichincha", 0.0982200322390371,
  "18", "Tungurahua", 0.104944910326626,
  "19", "Zamora Chinchipe", 0.265977400798932,
  "20", "Galápagos", 0.169442848915457,
  "21", "Sucumbíos", 0.600302655866492,
  "22", "Orellana", 0.676276796749404,
  "23", "Santo Domingo", 0.340539286736409,
  "24", "Santa Elena", 0.347457966119105
) 

# Desarrollo --------------------------------------------------------------

pobreza_ingresos <- pobreza_ingresos %>%
  mutate(
    region =
      if_else(provin_dpa %in% c("01", "02", "03", "04", "05", "06", "10", "11", "17", "18"), "Sierra",
        if_else(provin_dpa %in% c("07", "08", "09", "12", "13", "23", "24"), "Costa",
          if_else(provin_dpa == "20", "Insular", "Amazonía")
        )
      ))

pobreza_ingresos <- pobreza_ingresos %>%
  mutate(region = case_when(
    provin_dpa %in% c("01", "02", "03", "04", "05", "06", "10", "11", "17", "18") ~ "Sierra",
    provin_dpa %in% c("07", "08", "09", "12", "13", "23", "24") ~ "Costa",
    provin_dpa == "20" ~ "Insular",
    TRUE ~ "Amazonía"
  ))



